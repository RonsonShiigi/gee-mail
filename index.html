<html>
	<head>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
    <script>
      window.onload = function(){
        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser
			
		
			
		// console.log(window.geemails[0]);
		// console.table(window.geemails);

		
		
		



		for(var i=0; i<window.geemails.length; i++){
			var boxIt=document.createElement('div');
			boxIt.className='box';
			main.appendChild(boxIt);
			boxIt.addEventListener('click',boom);

			var hi = document.getElementsByClassName('box');
			var whoVar = document.createElement('div');
			whoVar.className='who';
			whoVar.innerHTML = window.geemails[i].sender;
			hi[i].appendChild(whoVar);
			
			var whatVar= document.createElement('div');
			whatVar.className='what';
			whatVar.innerHTML=window.geemails[i].subject;
			hi[i].appendChild(whatVar);

			var whenVar=document.createElement('div');
			whenVar.className='when';
			whenVar.innerHTML=window.geemails[i].date
			hi[i].appendChild(whenVar);
			
			var messageVar= document.createElement('div');
			messageVar.className='message';
			messageVar.innerHTML=window.geemails[i].body;
			hi[i].appendChild(messageVar);

			


		}
		function boom(){
			var fiyah = this.querySelectorAll('.message')[0];
			if(fiyah.style.display === 'block'){
				fiyah.style.display ='none';
			}else{fiyah.style.display='block'}
				
		}
		// counter stuff
		var count = document.getElementById('counter')
		for(var i=0; i<window.geemails.length; i++){
			count.innerHTML++
		}
		
		// get new message shite
		
		
		function poofMessage(){
			var newStuff = getNewMessage()
			// window.geemails.push(newStuff)
			var newMessageBox = document.createElement('div');
			newMessageBox.className='newMessage';
			main.appendChild(newMessageBox);

			var newSender = document.createElement('div');
			newSender.className='newWho';
			newSender.innerHTML=newStuff.sender;
			newMessageBox.appendChild(newSender);

			var newSubject = document.createElement('div');
			newSubject.className='newWhat';
			newSubject.innerHTML=newStuff.subject
			newMessageBox.appendChild(newSubject);
			

			var newDate = document.createElement('div');
			newDate.className='newWhen';
			newDate.innerHTML= newStuff.date;
			newMessageBox.appendChild(newDate);
		}
		setInterval(poofMessage,1000);
		
		
		
		
		
		



			};
			
			
			
    </script>
	</head>
	<body>
		<div id="topBar">
			<img src="https://s18955.pcdn.co/wp-content/uploads/2017/05/Email.png" alt="pic" id="envelope">
			<div id="topWord">GEE-MAIL</div>
		</div>

		<div id="searchBar">
			<input type="text" id ="search" placeholder="Search GEE-MAIL...">
			<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/55/Magnifying_glass_icon.svg/1024px-Magnifying_glass_icon.svg.png" alt="mag" id="glass">
			<img src="https://st3.depositphotos.com/10312166/17789/v/950/depositphotos_177892264-stock-illustration-samurai-ready-fight-composition-designed.jpg" alt="samurai" id="userImage">
			
		</div>

		
		
		<div id="sideBar">
				<button id='compose'>Compose</button>
			<ul class="sidebarItems"  id='inbox'>Inbox</ul>
			<div id="counter">0</div>
			<ul class="sidebarItems">Starred</ul>
			<ul class="sidebarItems">Snoozed</ul>
			<ul class="sidebarItems">Important</ul>
			<ul class="sidebarItems">Sent</ul>
			<ul class="sidebarItems">Drafts</ul>
			<ul class="sidebarItems">Categories</ul>
			<ul class="sidebarItems">Notes</ul>
		</div>

		<div id="types">
			<div class="typeBox">Primary</div>
			<div class="typeBox">Social</div>
			<div class="typeBox">Spam</div>
		</div>
		<div class="container" id="main">
			
		</div>
	</body>
</html>